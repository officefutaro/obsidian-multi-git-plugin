# Obsidian Multi-Git Plugin テスト計画書 v0.9.7

**作成日**: 2024年10月28日  
**バージョン**: 0.9.7 (開発版)  
**実施予定**: 2024年10月28日〜29日

---

## 🎯 テスト目的

1. **機能検証**: Git Repository Manager の全機能動作確認
2. **品質保証**: v0.9.7 開発版の安定性確認
3. **リリース準備**: 1.0.0 正式版への準備完了判定

---

## 📋 テスト実施計画

### 【段階1】方法1: 簡単テスト (ルート main.js)

#### 📁 対象ファイル
```
D:\Project\2510_obsidianGit\
├── main.js          ← v0.9.7 確定版
├── manifest.json    ← v0.9.7
└── styles.css       ← UI スタイル
```

#### 🔍 テスト内容
1. **基本動作確認**
   - プラグイン読み込み
   - Git Repository Manager UI 表示
   - リボンアイコン動作

2. **リポジトリ検出テスト**
   - Parent Directory 検出
   - Vault Directory 検出  
   - Known Sub-repositories 検出

3. **UI表示テスト**
   - 完全パス表示 (横スクロール)
   - ブランチ情報表示
   - 変更状況表示

#### ✅ 合格基準
- [ ] プラグイン正常起動
- [ ] 全リポジトリが正しく検出される
- [ ] UI が仕様通り表示される

---

### 【段階2】方法2: フルテスト (TypeScript完全版)

#### 📁 対象ファイル
```
D:\Project\2510_obsidian-multi-git-plugin\
├── src/main.ts      ← TypeScript ソース
├── tests/           ← Jest テストスイート
├── package.json     ← npm scripts
└── jest.config.js   ← テスト設定
```

#### 🔍 テスト内容
1. **自動テスト実行**
   ```bash
   cd obsidian-multi-git-plugin
   npm install
   npm run test:all
   ```

2. **カバレッジテスト**
   ```bash
   npm run test:coverage
   ```

3. **型チェックテスト**
   ```bash
   npm run build
   ```

#### ✅ 合格基準
- [ ] 全 Jest テストが PASS
- [ ] カバレッジ 80% 以上
- [ ] TypeScript コンパイルエラー 0件

---

### 【段階3】方法3: Vault内テスト (実環境)

#### 📁 対象環境
```
D:\Project\2510_obsidianGit\test-vault\
├── README-TESTING.md
├── test-folder/
└── test-note-1.md
```

#### 🔍 テスト内容
1. **実環境インストール**
   - Obsidian プラグインフォルダにコピー
   - test-vault で Obsidian 起動
   - プラグイン有効化

2. **エンドツーエンドテスト**
   - リポジトリ検出動作
   - Commit/Push/Pull 操作
   - 一括操作機能

3. **ユーザビリティテスト**
   - UI 操作性
   - エラーハンドリング
   - パフォーマンス

#### ✅ 合格基準
- [ ] 実際の Obsidian で正常動作
- [ ] 全 Git 操作が成功
- [ ] UI が使いやすい

---

## 🧪 詳細テストケース

### ケース1: リポジトリ検出精度
```
テスト環境:
Parent/
├── .git/                    ← Parent Repository
└── Vault/
    ├── .git/               ← Vault Repository  
    └── Novels/
        └── .git/           ← Sub Repository

期待結果:
1. "Parent (Claude Code)" 
2. "Vault"
3. "Vault/Novels"
```

### ケース2: パス表示機能
```
テスト項目:
- 長いパスの横スクロール表示
- ツールチップでの完全パス表示
- パス切り詰め無し

期待結果:
- D:\Very\Long\Path\To\Repository\Folder が完全表示
```

### ケース3: Git操作機能
```
テスト項目:
1. 個別 Commit (手動メッセージ)
2. 個別 Push/Pull
3. 一括 Commit All
4. 一括 Push All / Pull All

期待結果:
- 全操作が成功
- 適切な Notice 表示
- エラー時の適切なハンドリング
```

---

## 📊 テスト実行スケジュール

| 段階 | テスト方法 | 予定時間 | 担当 |
|------|-----------|----------|------|
| 1 | 簡単テスト | 30分 | Claude Code |
| 2 | フルテスト | 45分 | Claude Code |  
| 3 | 実環境テスト | 60分 | Claude Code + User |
| - | 結果まとめ | 15分 | Claude Code |

**合計予定時間**: 2.5時間

---

## 🚨 エラー時の対応

### 段階1で失敗した場合
- [ ] コードレビューを実施
- [ ] バグ修正後に再テスト

### 段階2で失敗した場合  
- [ ] Jest テスト結果を詳細分析
- [ ] TypeScript エラーを修正

### 段階3で失敗した場合
- [ ] Obsidian ログを確認
- [ ] 実環境特有の問題を調査

---

## 📈 テスト完了判定基準

### 🟢 **PASS (合格)**
- [ ] 全3段階のテストが合格
- [ ] 致命的なバグが 0件
- [ ] パフォーマンス要件を満たす

### 🟡 **CONDITIONAL PASS (条件付き合格)**
- [ ] 2段階以上が合格
- [ ] 軽微なバグのみ (ドキュメント化済み)

### 🔴 **FAIL (不合格)**
- [ ] 2段階以上で失敗
- [ ] 致命的なバグが存在
- [ ] 基本機能が動作しない

---

## 📝 テスト結果記録

### 段階1結果 (予定)
```
実施日時: 
結果: [ ] PASS / [ ] FAIL
詳細: 

```

### 段階2結果 (予定)  
```
実施日時:
結果: [ ] PASS / [ ] FAIL
Jest Results:
Coverage:
Build Status:

```

### 段階3結果 (予定)
```
実施日時:
結果: [ ] PASS / [ ] FAIL  
Obsidian Version:
User Feedback:

```

---

## 🎉 最終判定

```
総合結果: [ ] PASS / [ ] CONDITIONAL PASS / [ ] FAIL

リリース判定:
[ ] v1.0.0 リリース可能
[ ] 追加修正が必要
[ ] 大幅な見直しが必要

次のアクション:

```

---

## 📚 参考資料

- [機能仕様書 v0.9.7](./機能仕様書_v0.9.7.md)
- [BRAT対応作業まとめ](./BRAT対応作業まとめ_2024-10-28.md)
- [β版完成報告](./β版完成報告_2024-10-28.md)

---

**文書管理**:  
このテスト計画書は実施結果と共に更新され、v1.0.0リリース判定の根拠として使用されます。